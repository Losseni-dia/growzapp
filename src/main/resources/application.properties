# ===================================
# VERSION TURBO 2026 — POSTGRESQL & CLOUD READY
# ===================================

# 1. IMPORTATION DES SECRETS (.env)
spring.config.import=optional:file:.env[.properties]

# 2. DATABASE POSTGRESQL
# Port par défaut : 5432
spring.datasource.url=jdbc:postgresql://localhost:5432/grow
spring.datasource.username=postgres
spring.datasource.password=root
spring.datasource.driver-class-name=org.postgresql.Driver

# 3. JPA / HIBERNATE OPTIMISATIONS
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Vitesse de traitement financier (Batching)
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# 4. LOGGING (Mode Dev)
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# 5. CONFIGURATION DES API DE PAIEMENT
stripe.secret-key=${STRIPE_SECRET_KEY}
stripe.webhook-secret=${STRIPE_WEBHOOK_SECRET}

paydunya.app-master-key=${PAYDUNYA_APP_MASTER_KEY}
paydunya.master-key=${PAYDUNYA_MASTER_KEY}
paydunya.private-key=${PAYDUNYA_PRIVATE_KEY}
paydunya.token=${PAYDUNYA_TOKEN}
paydunya.mode=test
paydunya.webhook-secret=${PAYDUNYA_WEBHOOK_SECRET}

# 6. CONFIGURATION SERVEUR & FRONTEND
server.port=8080
app.frontend-url=http://localhost:3000
app.upload.dir=uploads
spring.main.allow-circular-references=true

# 7. SERIALISATION JSON (Jackson)
spring.jackson.serialization.fail-on-empty-beans=false
spring.jackson.default-property-inclusion=non_null

# 8. CONFIGURATION EMAIL (GMAIL)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${EMAIL_USERNAME}
spring.mail.password=${EMAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true